(this.webpackJsonpcompleted=this.webpackJsonpcompleted||[]).push([[0],{314:function(e,t,a){e.exports=a(402)},316:function(e,t,a){},331:function(e,t){},402:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=(a(316),a(72)),c=a(35),i=a(7),o=a.n(i),s=a(16),u=a(17),m=a(161),d=Object(n.createContext)(),f=function(e){var t=e.children,a=Object(n.useState)({}),l=Object(u.a)(a,2),c=l[0],i=l[1];return r.a.createElement(d.Provider,{value:{data:c,setValues:function(e){i((function(t){return Object(m.a)({},t,{},e)}))}}},t)},p=function(){return Object(n.useContext)(d)},h=a(147),b=a(44),g=a(124),E=a(75),O=a(483),v=a(482),j=Object(v.a)((function(e){return{root:{margin:e.spacing(3,0,2)}}})),x=function(e){var t=e.children,a=Object(E.a)(e,["children"]),n=j();return r.a.createElement(O.a,Object.assign({type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.root},a),t)},y=a(484),k=Object(v.a)((function(e){return{root:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"}}})),D=function(e){var t=e.children,a=Object(E.a)(e,["children"]),n=k();return r.a.createElement(y.a,Object.assign({className:n.root,component:"main",maxWidth:"xs"},a),t)},w=Object(v.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)}}})),R=function(e){var t=e.children,a=Object(E.a)(e,["children"]),n=w();return r.a.createElement("form",Object.assign({},a,{className:n.root,noValidate:!0}),t)},I=a(203),N=a(518),B=a(510),S=a(136),C=a(52),F=a(56),T=a(90),V=Object(I.a)({direction:"rtl",flip:!1}),P=Object(T.a)({key:"muirtl",stylisPlugins:[C.i,S.a]}),z=Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,{value:P},r.a.createElement(N.a,{theme:V},r.a.createElement(B.a,Object.assign({inputRef:t,fullWidth:!0},e))))})),W=a(62),M=a(1),q=a(2),A=new(function(){function e(){Object(M.a)(this,e),this.authenticated=!1}return Object(q.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),L=a(61),G=a(128),J=a(245),$=Object(J.a)({apiKey:"AIzaSyCJzSwNoyp6CGlEEhwEeZqgyfEEwx9sysQ",authDomain:"perekmesimaapp.firebaseapp.com",projectId:"perekmesimaapp",storageBucket:"perekmesimaapp.appspot.com",messagingSenderId:"1031625487663",appId:"1:1031625487663:web:4e497f65902921d9551dda"}),H=Object(L.e)($),K=Object(G.b)($),_=a(70),Q=a.n(_),U=a(520),Z=function(e){var t=Object.values(e)[Object.keys(e).indexOf("hasEmail")];console.log(t),"true"===t&&(e.hasEmail=!0),console.log(e.hasEmail),"false"===t&&(e.hasEmail=!1),console.log(e.hasEmail);var a=Object.values(e)[Object.keys(e).indexOf("isDati")];return console.log(a),"true"===a&&(e.isDati=!0),console.log(e.isDati),"false"===a&&(e.isDati=!1),console.log(e.isDati),e},X=W.c().shape({personalID:W.b().typeError("\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8").test("len","\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc 7 \u05e1\u05e4\u05e8\u05d5\u05ea",(function(e){return 7===e.toString().length}))}),Y=function(){var e,t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1],m=p(),d=m.setValues,f=(m.data,Object(c.h)()),E=Object(b.d)({defaultValues:{personalID:"8593827"},mode:"onBlur",resolver:Object(g.a)(X)}),O=E.register,v=E.handleSubmit,j=E.errors,y=Object(L.b)(H,"Members"),k=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.values(t).toString(),n=Object(L.f)(y,Object(L.h)("personalID","==",a)),e.next=4,Object(L.d)(n);case 4:return e.sent.forEach((function(e){t=e.data()})),e.next=8,Z(t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,k(t);case 3:a=e.sent,t===a?(i(!1),A.logout((function(){f("./")})),Q.a.fire({icon:"error",title:"\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05de\u05e2\u05e8\u05db\u05ea.",text:"\u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d5\u05d6\u05df \u05d1\u05e6\u05d5\u05e8\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea.",confirmButtonText:"\u05d0\u05d5\u05e7\u05d9\u05d9"})):A.login((function(){f("./step1")})),d(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05d4\u05d6\u05d3\u05d4\u05d5\u05ea"),r.a.createElement(R,{onSubmit:v(w)},r.a.createElement(z,{dir:"rtl",ref:O,id:"personalID",type:"number",label:"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9",name:"personalID",error:!!j.personalID,helperText:null===j||void 0===j||null===(e=j.personalID)||void 0===e?void 0:e.message}),r.a.createElement(x,{disabled:l},l&&r.a.createElement(U.a,{size:40,speed:2.5,color:"gray"}),!l&&r.a.createElement("span",null,"\u05db\u05e0\u05d9\u05e1\u05d4"))))},ee=a(513),te=a(523),ae=a(524),ne=a(517),re=a(489),le=a(516),ce=a(522),ie=a(498),oe=a(496),se=a(497),ue=a(508),me=a(271),de=a(507),fe=a(515),pe=(a(331),a(527)),he=Object(I.a)({direction:"rtl"}),be=Object(T.a)({key:"muirtl",stylisPlugins:[C.i,S.a]}),ge=function(e){var t=e.name,a=(e.label,e.control),n=e.defaultValue,l=e.children,c=Object(E.a)(e,["name","label","control","defaultValue","children"]);"".concat(t,"-label");return r.a.createElement(F.a,{value:be},r.a.createElement(N.a,{theme:he},r.a.createElement(pe.a,Object.assign({fullWidth:!0},c),r.a.createElement(F.a,{value:be},r.a.createElement(N.a,{theme:he})),r.a.createElement(F.a,{value:be},r.a.createElement(N.a,{theme:he},r.a.createElement(b.a,{dir:"rtl",as:r.a.createElement(B.a,{select:!0,id:"ranks",label:"\u05d3\u05e8\u05d2\u05d4"},l),name:t,control:a,defaultValue:n}))))))},Ee=(a(332),W.c().shape({firstName:W.d().matches(/^([^0-9]*)$/,"\u05d4\u05e9\u05dd \u05d4\u05e4\u05e8\u05d8\u05d9 \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05db\u05dc\u05d5\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd").required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05dd \u05d4\u05e4\u05e8\u05d8\u05d9"),lastName:W.d().matches(/^([^0-9]*)$/,"\u05d4\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05db\u05dc\u05d5\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd").required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"),isDati:W.a(),datiORishy:W.d(),shapeOfBeard:W.d(),ranks:W.d(),date:W.d()})),Oe=function(){var e,t,a=Object(n.useState)(new Date),l=Object(u.a)(a,2),i=l[0],m=l[1],d=r.a.useState(""),f=Object(u.a)(d,2),E=(f[0],f[1],p()),O=E.setValues,v=E.data,j=Object(c.h)(),y=Object(n.useState)(v.datiORishylabel),k=Object(u.a)(y,2),w=k[0],I=k[1],N=function(e){I(e.target.value)},B=Object(n.useState)(v.shapeOfBeard),S=Object(u.a)(B,2),C=S[0],F=S[1],T=function(e){F(e.target.value)},V=Object(b.d)({defaultValues:{firstName:v.firstName,lastName:v.lastName,datiORishylabel:v.datiORishylabel,shapeOfBeard:v.shapeOfBeard,isDati:v.isDati,ranks:v.ranks,date:v.date},mode:"onBlur",resolver:Object(g.a)(Ee)}),P=V.register,W=V.unregister,M=V.handleSubmit,q=V.errors,A=V.control,L=function(){var e=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.fire({title:"\u05d4\u05e6\u05d4\u05e8\u05ea \u05d4\u05d7\u05d9\u05d9\u05dc:",width:600,padding:"3em",html:"\n      <style>\n      li {\n  font-size: 90%;\n  text-align: right;\n}\nsub {\n  font-size: 50%;\n  text-align: right;\n}\n</style>\n      <ul dir='rtl'>\n      \n <p> <li>\u05d4\u05d6\u05e7\u05df \u05d0\u05d5 \u05d4\u05e9\u05e4\u05dd \u05de\u05d4\u05d5\u05d5\u05d4 \u05d7\u05dc\u05e7 \u05de\u05d3\u05de\u05d5\u05ea\u05d9, \u05de\u05d4\u05d5\u05d5\u05d9\u05d9\u05ea\u05d9 \u05d0\u05d5 \u05de\u05d6\u05d4\u05d5\u05ea\u05d9.\n  </li></p>\n  <p><li> \u05d0\u05e0\u05d9 \u05de\u05ea\u05d7\u05d9\u05d9\u05d1 \u05d1\u05d6\u05d0\u05ea \u05db\u05d9 \u05d0\u05e7\u05e4\u05d9\u05d3 \u05e2\u05dc \u05d6\u05e7\u05df \u05d0\u05d5 \u05e9\u05e4\u05dd \u05de\u05e1\u05d5\u05d3\u05e8 \u05d5\u05d4\u05d5\u05dc\u05dd \u05d0\u05ea \u05d4\u05d4\u05d5\u05e4\u05e2\u05d4 \u05d4\u05e6\u05d1\u05d0\u05d9\u05ea \u05d4\u05e0\u05d0\u05d5\u05ea\u05d4.\n  </li></p>\n  <p> <li> \u05d9\u05d3\u05d5\u05e2 \u05dc\u05d9, \u05db\u05d9 \u05d0\u05dd \u05d0\u05d2\u05dc\u05d7 \u05d0\u05ea \u05d6\u05e7\u05e0\u05d9 \u05d0\u05d5 \u05e9\u05e4\u05de\u05d9, \u05d4\u05d9\u05ea\u05e8 \u05d7\u05e8\u05d9\u05d2 \u05d6\u05d4 \u05d1\u05d8\u05dc (\u05dc\u05de\u05e2\u05d8 \u05d0\u05dd \u05ea\u05d4\u05d0 \u05dc\u05db\u05da \u05e1\u05d9\u05d1\u05d4 \u05e8\u05e4\u05d5\u05d0\u05d9\u05ea, \u05d5\u05d9\u05d4\u05d9\u05d4 \u05d1\u05d9\u05d3\u05d9 \u05d4\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d4\u05e8\u05e4\u05d5\u05d0\u05d9 \u05d4\u05de\u05e6\u05d1\u05d9\u05e2 \u05e2\u05dc \u05db\u05da).\n  </li></p>\n  <p> <li> \u05e2\u05dc \u05d4\u05d7\u05d9\u05d9\u05dc \u05dc\u05e9\u05d0\u05ea \u05d0\u05ea \u05d8\u05d5\u05e4\u05e1 \u05d4\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d4\u05d7\u05e8\u05d9\u05d2 \u05d1\u05db\u05dc \u05e2\u05ea \u05d5\u05dc\u05d4\u05e6\u05d9\u05d2\u05d5 \u05dc\u05e9\u05d5\u05d8\u05e8 \u05e6\u05d1\u05d0\u05d9, \u05dc\u05de\u05e4\u05e7\u05d3 \u05d0\u05d5 \u05dc\u05e0\u05d2\u05d3 \u05d4\u05d9\u05d7\u05d9\u05d3\u05d4, \u05d0\u05dd \u05d9\u05d9\u05d3\u05e8\u05e9 \u05dc\u05db\u05da.\n  </li></p>\n  <sub>\u05de\u05ea\u05d5\u05da: \u05d4\u05e7\u05f4\u05d0 33-05-01 - \u05f4\u05db\u05dc\u05dc\u05d9 \u05d4\u05d4\u05d5\u05e4\u05e2\u05d4 \u05d5\u05d4\u05dc\u05d1\u05d5\u05e9\u05f4 \u05e2\u05de\u05d5\u05d3 98 \u05e0\u05e1\u05e4\u05d7 \u05d9\u05d0\u05f3</sub>\n  </ul> ",input:"checkbox",inputValue:1,inputPlaceholder:"\u05d0\u05e0\u05d9 \u05de\u05d0\u05e9\u05e8 \u05d0\u05ea \u05d4\u05e6\u05d4\u05e8\u05ea\u05d9.",confirmButtonText:'\u05d4\u05de\u05e9\u05da <i class="fa fa-arrow-right"></i>',inputValidator:function(e){return!e&&"\u05d7\u05d5\u05d1\u05d4 \u05dc\u05d0\u05e9\u05e8 \u05d0\u05ea \u05d4\u05d4\u05e6\u05d4\u05e8\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05de\u05e9\u05d9\u05da!"}});case 2:a=e.sent,a.value&&(console.log(t),O(t),j("/Signature"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(v),r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05e9\u05dc\u05d1 1"),r.a.createElement(oe.a,{spacing:9},r.a.createElement(R,{onSubmit:M(L)},r.a.createElement(se.a,{dir:"rtl",m:2},r.a.createElement(ie.a,{container:!0,direction:"row",alignItems:"center",spacing:2},r.a.createElement(ie.a,{item:!0,container:!0,direction:"row",alignItems:"flex-end",justify:"center",md:4},r.a.createElement(z,{dir:"rtl",ref:P,id:"firstName",type:"text",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",name:"firstName",error:!!q.firstName,helperText:null===q||void 0===q||null===(e=q.firstName)||void 0===e?void 0:e.message})),r.a.createElement(ie.a,{item:!0,container:!0,direction:"row",alignItems:"flex-end",justify:"center",md:4},r.a.createElement(z,{dir:"rtl",ref:P,id:"lastName",type:"text",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",name:"lastName",error:!!q.lastName,helperText:null===q||void 0===q||null===(t=q.lastName)||void 0===t?void 0:t.message})),r.a.createElement(ie.a,{item:!0,container:!0,direction:"row",alignItems:"flex-end",justify:"center",md:4},r.a.createElement(ge,{id:"ranks",name:"ranks",label:"\u05d3\u05e8\u05d2\u05d4",dir:"rtl",control:A,defaultValue:""},r.a.createElement(fe.a,{value:"\u05d8\u05d5\u05e8\u05d0\u05d9"},"\u05d8\u05d5\u05e8\u05d0\u05d9"),r.a.createElement(fe.a,{value:"\u05e8\u05d1\u05f4\u05d8"},"\u05e8\u05d1\u05f4\u05d8"),r.a.createElement(fe.a,{value:"\u05e1\u05de\u05dc"},"\u05e1\u05de\u05dc"),r.a.createElement(fe.a,{value:"\u05e1\u05de\u05f4\u05e8"},"\u05e1\u05de\u05f4\u05e8"))))),r.a.createElement(ce.a,{dir:"rtl"},r.a.createElement(ne.a,null,r.a.createElement(ie.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ie.a,{item:!0,xs:8,md:4},r.a.createElement(re.a,{id:"datiORishylabel"},"\u05e1\u05d9\u05d1\u05ea \u05d4\u05d1\u05e7\u05e9\u05d4"),r.a.createElement(te.a,{defaultValue:w,onChange:N},r.a.createElement(ae.a,{control:r.a.createElement(ee.a,Object.assign({name:"datiORishylabel",inputRef:P,value:"ishy"},W("isDati"),{checked:"ishy"===w,onChange:N})),label:"\u05d0\u05d9\u05e9\u05d9"}),r.a.createElement(ae.a,{control:r.a.createElement(ee.a,{name:"datiORishylabel",inputRef:P,value:"dati",checked:"dati"===w,onChange:N}),label:"\u05d3\u05ea\u05d9"}))),r.a.createElement(ie.a,{item:!0,xs:8,md:4},r.a.createElement(re.a,{id:"shapeOfBeardlabel"},"\u05de\u05d4 \u05e6\u05d5\u05e8\u05ea \u05d4\u05d6\u05e7\u05df?"),r.a.createElement(te.a,{defaultValue:C,onChange:T},r.a.createElement(ae.a,{value:"Full",control:r.a.createElement(ee.a,{name:"shapeOfBeard",inputRef:P,value:"Full",checked:"Full"===C,onChange:T}),label:"\u05de\u05dc\u05d0"}),r.a.createElement(ae.a,{value:"French",control:r.a.createElement(ee.a,{name:"shapeOfBeard",inputRef:P,value:"French",checked:"French"===C,onChange:T}),label:"\u05e6\u05e8\u05e4\u05ea\u05d9"}),r.a.createElement(ae.a,{value:"Mos",control:r.a.createElement(ee.a,{name:"shapeOfBeard",inputRef:P,value:"Mos",checked:"Mos"===C,onChange:T}),label:"\u05d0\u05d7\u05e8"}))),"dati"===w&&r.a.createElement(ie.a,{item:!0,xs:8},r.a.createElement(re.a,{id:"isDatilabel"},"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d3\u05ea\u05d9?"),r.a.createElement(ae.a,{control:r.a.createElement(le.a,{defaultValue:v.isDati,defaultChecked:v.isDati,inputRef:P,name:"isDati"}),label:"\u05d0\u05e0\u05d9 \u05de\u05e7\u05d9\u05d9\u05dd \u05d0\u05d5\u05e8\u05d7 \u05d7\u05d9\u05d9\u05dd \u05d3\u05ea\u05d9"})),"dati"!==w&&r.a.createElement(ie.a,{item:!0,xs:8},r.a.createElement(re.a,{id:"isDatilabel"},"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d3\u05ea\u05d9?"),r.a.createElement(ae.a,{control:r.a.createElement(le.a,{value:!1,checked:!1,disabled:!0,inputRef:P,name:"isDati"}),label:"\u05d0\u05e0\u05d9 \u05de\u05e7\u05d9\u05d9\u05dd \u05d0\u05d5\u05e8\u05d7 \u05d7\u05d9\u05d9\u05dd \u05d3\u05ea\u05d9"})),r.a.createElement(ie.a,{item:!0,container:!0,justify:"center",xs:8},r.a.createElement(me.a,{dateAdapter:ue.a},r.a.createElement(de.a,{dir:"rtl",label:"\u05d3\u05d5\u05d2\u05de\u05d4",id:"date",inputFormat:"dd/MM/yyyy",disabled:!0,value:i,inputRef:P,onChange:function(e){m(e)},renderInput:function(e){return r.a.createElement(z,Object.assign({name:"date"},e))}})))))),r.a.createElement(x,null,"\u05d4\u05d1\u05d0"))))},ve=a(499),je=a(514),xe=a(509),ye=W.c().shape({email:W.d().email("\u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d4\u05d5\u05d6\u05df \u05d1\u05e6\u05d5\u05e8\u05d4 \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d4"),phoneNumber:W.d().required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05de\u05e1\u05e4\u05e8 \u05d4\u05d8\u05dc\u05e4\u05d5\u05df")}),ke=function(){var e,t,a=p(),n=a.setValues,l=a.data,i=Object(c.h)(),o=Object(b.d)({defaultValues:{email:l.email,hasEmail:l.hasEmail,phoneNumber:l.phoneNumber},mode:"onBlur",resolver:Object(g.a)(ye)}),s=o.register,u=o.handleSubmit,m=o.watch,d=o.errors,f=m("hasEmail");return r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"Step 2"),r.a.createElement(R,{onSubmit:u((function(e){i("/step3");var t=Object.values(e)[Object.keys(e).indexOf("hasEmail")];console.log(t),t||(console.log("in the if"),console.log(e.hasEmail),delete e.email),n(e)}))},r.a.createElement(z,{ref:s,id:"phoneNumber",type:"tel",label:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df",name:"phoneNumber",dir:"ltr",error:!!d.phoneNumber,helperText:null===d||void 0===d||null===(e=d.phoneNumber)||void 0===e?void 0:e.message,required:!0,onChange:function(e){var t;e.target.value=(t=e.target.value,new xe.a("IL").input(t))}}),r.a.createElement(ve.a,{control:r.a.createElement(je.a,{defaultValue:l.hasEmail,defaultChecked:l.hasEmail,color:"primary",inputRef:s,name:"hasEmail"}),dir:"rtl",label:"\u05d4\u05d0\u05dd \u05d9\u05e9 \u05dc\u05da \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc?"}),f&&r.a.createElement(z,{ref:s,id:"email",type:"email",label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",name:"email",dir:"ltr",error:!!d.email,helperText:null===d||void 0===d||null===(t=d.email)||void 0===t?void 0:t.message}),r.a.createElement(x,null,"Next")))},De=(a(333),a(272)),we=a(500),Re=a(521),Ie=a(501),Ne=Object(v.a)((function(e){return{root:{margin:e.spacing(3,0,2)}}})),Be=function(e){var t=e.children,a=Object(E.a)(e,["children"]),n=Ne();return r.a.createElement(O.a,Object.assign({fullWidth:!0,variant:"contained",color:"secondary",className:n.root},a),t)},Se=function(){var e=document.getElementById("canvas-element");console.log(e);var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1],o=p(),s=(o.setValues,o.data),m=Object(c.h)(),d="",f=Object(b.d)({defaultValues:{imageData:s.imageData},mode:"onChange"}),g=(f.register,f.handleSubmit),E=(f.watch,f.errors,Object(n.useRef)({}));return console.log(s),r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05d7\u05ea\u05d5\u05dd \u05db\u05d0\u05df"),r.a.createElement(oe.a,{spacing:2},r.a.createElement(R,{onSubmit:g((function(){d=E.current.toDataURL(),E.current.isEmpty()?(i(!1),A.logout((function(){m("/Signature")})),Q.a.fire({direction:"rtl",icon:"error",title:"\u05d7\u05d5\u05d1\u05d4 \u05dc\u05d7\u05ea\u05d5\u05dd \u05e2\u05dc \u05d4\u05de\u05e1\u05de\u05da!",confirmButtonText:"\u05d0\u05d5\u05e7\u05d9\u05d9"})):(s.imageData=d,console.log(d),console.log(s),m("/step3"))}))},r.a.createElement(we.a,{fullwidth:!0,style:{border:"2px solid black"}},r.a.createElement(De.a,Object.assign({options:{minWidth:2,maxWidth:4}},window.onresize=function(){E.current.handleResize()},{ref:E}))),r.a.createElement(Re.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2},r.a.createElement(Re.a,{justifyContent:"center",alignItems:"center",item:!0,xs:4,sm:4,md:4},r.a.createElement(x,{disabled:l},l&&r.a.createElement(U.a,{size:40,speed:2.5,color:"gray"}),!l&&r.a.createElement("span",null,"\u05d4\u05de\u05e9\u05da"))),r.a.createElement(Re.a,{justifyContent:"center",alignItems:"center",item:!0,xs:4,sm:4,md:4},r.a.createElement(Be,{startIcon:r.a.createElement(Ie.a,null),dir:"ltr",onClick:function(){E.current.clear()}},"\u05e0\u05e7\u05d4"))))))},Ce=a(270),Fe=a(502),Te=a(248),Ve=a.n(Te),Pe=a(503),ze=a(504),We=a(505),Me=a(506),qe=a(171),Ae=a.n(qe),Le=Object(v.a)((function(e){return{root:{backgroundColor:"#eee",textAlign:"center",cursor:"pointer",color:"#333",padding:"10px",marginTop:"20px"},icon:{marginTop:"16px",color:"#888888",fontSize:"42px"}}})),Ge=function(e){var t=e.control,a=e.name,n=Le();return r.a.createElement(b.a,{control:t,name:a,defaultValue:[],render:function(e){var t=e.onChange,l=e.onBlur,c=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{onDrop:t},(function(e){var t=e.getRootProps,c=e.getInputProps;return r.a.createElement(Fe.a,Object.assign({variant:"outlined",className:n.root},t()),r.a.createElement(Ve.a,{className:n.icon}),r.a.createElement("input",Object.assign({},c(),{name:a,onBlur:l})),r.a.createElement("p",null,"\u05d2\u05e8\u05d5\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05db\u05d0\u05df, \u05d0\u05d5 \u05dc\u05d7\u05e5 \u05db\u05d3\u05d9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd"))})),r.a.createElement(Pe.a,null,c.map((function(e,t){return r.a.createElement(ze.a,{key:t},r.a.createElement(We.a,null,r.a.createElement(Ae.a,null)),r.a.createElement(Me.a,{primary:e.name,secondary:e.size}))}))))}})},Je=function(){var e=Object(c.h)(),t=p(),a=t.data,n=t.setValues,l=Object(b.d)({defaultValues:{files:a.files}}),i=l.control,o=l.handleSubmit;return r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05e9\u05dc\u05d1 3"),r.a.createElement(R,{onSubmit:o((function(t){e("/result"),n(t)}))},r.a.createElement(Ge,{name:"files",control:i}),r.a.createElement(x,null,"\u05d4\u05d1\u05d0")))},$e=a(249),He=a.n($e),Ke=a(176),_e=a(265),Qe=a.n(_e),Ue=a(266),Ze=(a(30),Object(v.a)({root:{marginBottom:"30px"},table:{marginBottom:"30px"}})),Xe=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],m=Object(n.useState)(0),d=Object(u.a)(m,2),f=(d[0],d[1]),b=(Ze(),p().data),g=Object.entries(b).filter((function(e){return"files"!==e[0]})),E=b.files,O=Object(L.b)(H,"Members"),v=function(){var e=Object(s.a)(o.a.mark((function e(){var t,a,n,r,l,c,i,s,m,d,f,p,h,g,E,O,v,j,x,y,k,D,w,R,I;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://firebasestorage.googleapis.com/v0/b/perekmesimaapp.appspot.com/o/readyExcellentPtor.pdf?alt=media&token=22da674d-a2c0-4a1e-8db8-c506d1880156",a="https://pdf-lib.js.org/assets/small_mario.png",e.next=4,fetch(a).then((function(e){return e.arrayBuffer()}));case 4:return n=e.sent,e.next=7,fetch(b.imageData).then((function(e){return e.arrayBuffer()}));case 7:return r=e.sent,console.log("url= "+a),console.log("bytes= "+n),e.next=12,fetch(t).then((function(e){return e.arrayBuffer()}));case 12:return l=e.sent,e.next=15,Ke.PDFDocument.load(l);case 15:return c=e.sent,console.log(c.context.header.toString()),"https://firebasestorage.googleapis.com/v0/b/perekmesimaapp.appspot.com/o/DavidLibre-Regular.ttf?alt=media&token=7fa3b6aa-9f68-4823-9620-55042a0417b5",e.next=20,fetch("https://firebasestorage.googleapis.com/v0/b/perekmesimaapp.appspot.com/o/DavidLibre-Regular.ttf?alt=media&token=7fa3b6aa-9f68-4823-9620-55042a0417b5").then((function(e){return e.arrayBuffer()}));case 20:return i=e.sent,c.registerFontkit(Ue.a),e.next=25,c.embedFont(i);case 25:return s=e.sent,e.next=28,c.embedPng(n);case 28:return m=e.sent,e.next=31,c.embedPng(r);case 31:return d=e.sent,console.log("image= "+m),f=c.getForm(),c.catalog.getOrCreateViewerPreferences().setReadingDirection(Ke.ReadingDirection.R2L),f.getFields().forEach((function(e){var t=e.constructor.name,a=e.getName();console.log("".concat(t,": ").concat(a))})),p=f.getTextField("firstname"),h=f.getTextField("lastname"),g=f.getTextField("ID"),E=f.getTextField("RANK"),O=f.getRadioGroup("Req"),v=f.getRadioGroup("Shape"),j=f.getCheckBox("Checkbox"),x=f.getTextField("Date"),y=f.getButton("ImageField"),p.setText(b.firstName),h.setText(b.lastName),g.setText(b.personalID),E.setText(b.ranks),O.select(b.datiORishylabel),v.select(b.shapeOfBeard),b.isDati?j.check():j.enableReadOnly(),x.setText(b.date),p.enableReadOnly(),h.enableReadOnly(),g.enableReadOnly(),E.enableReadOnly(),x.enableReadOnly(),v.enableReadOnly(),O.enableReadOnly(),j.enableReadOnly(),y.setImage(d),f.updateFieldAppearances(s),e.next=67,Ke.PDFDocument.load(b.files);case 67:return k=e.sent,e.next=70,c.copyPages(k,[0]);case 70:return D=e.sent,w=Object(u.a)(D,1),R=w[0],c.insertPage(0,R),e.next=76,c.save();case 76:I=e.sent,Qe()(I,b.personalID,"application/pdf");case 78:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(c.h)(),y=function(){var e=Object(s.a)(o.a.mark((function e(){var t,a,n,r,l,c,s,u,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,b.files&&(a=b.personalID,b.files.sFilename=a,b.files.forEach((function(e){var t=Object(G.c)(K,"/personalNotes/".concat(e.sFilename)),a=Object(G.d)(t,e);a.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);f(t)}),(function(e){return console.log(e)}),(function(){Object(G.a)(a.snapshot.ref).then((function(e){console.log("File available at",e)}))}))}))),g.forEach((function(e){t.append(e[0],e[1])})),n={},t.forEach((function(e,t){n[t]=e})),r=Object.values(n),l=Object.keys(n).indexOf("personalID"),c=r[l],s=Object(L.f)(O,Object(L.h)("personalID","==",c)),e.next=11,Object(L.d)(s);case 11:if(u=e.sent,m=!0,u.forEach((function(e){var t;console.log(e.id," => ",e.data()),Object(L.g)(Object(L.c)(O,e.id),n),m=!1,Q.a.fire({icon:"success",title:"\u05de\u05e2\u05d5\u05dc\u05d4!",text:"\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05da \u05e0\u05e7\u05dc\u05d8\u05d5 \u05d1\u05de\u05e2\u05e8\u05db\u05ea!",confirmButtonText:"\u05d0\u05d5\u05e7\u05d9\u05d9",timer:5e3,timerProgressBar:!0,didOpen:function(){Q.a.showLoading();var e=Q.a.getHtmlContainer().querySelector("b");t=setInterval((function(){e.textContent=Q.a.getTimerLeft()}),100)},willClose:function(){clearInterval(t)}}).then((function(e){e.dismiss,Q.a.DismissReason.timer,j("/")})),i(!0)})),!m){e.next=17;break}return e.next=17,Object(L.a)(O,n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement(He.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05d0\u05dc\u05d9\u05e4\u05d5\u05ea! \u05d6\u05d4 \u05d4\u05db\u05dc!"),r.a.createElement(Be,{color:"primary",onClick:v},"\u05e9\u05de\u05d5\u05e8 \u05db\u05e7\u05d5\u05d1\u05e5 PDF"),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{component:"h2",variant:"h5"},"\u05de\u05db\u05ea\u05d1 \u05d0\u05d9\u05e9\u05d9"),r.a.createElement(Pe.a,null,E.map((function(e,t){return r.a.createElement(ze.a,{key:t},r.a.createElement(We.a,null,r.a.createElement(Ae.a,null)),r.a.createElement(Me.a,{primary:e.name,secondary:e.size}))})))),r.a.createElement(x,{onClick:y},"\u05e9\u05de\u05d5\u05e8 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05da"),r.a.createElement(l.b,{to:"/"},"\u05d4\u05ea\u05d7\u05dc \u05de\u05d7\u05d3\u05e9")))},Ye=(a(396),a(511)),et=function(){return r.a.createElement(ie.a,{container:!0,spacing:0,direction:"column",alignItems:"center",sx:{height:1/4,width:1/4}},r.a.createElement(Ye.a,{component:"img",style:{width:"auto",maxHeight:"200px"},sx:{height:1/4,width:1/4,border:1},alt:"The house from the offer.",src:"https://firebasestorage.googleapis.com/v0/b/perekmesimaapp.appspot.com/o/ptorzakanlogo1-01.png?alt=media&token=d13334f7-9056-4b74-8fbf-eedf3ec5fe54"}))},tt=function(){return A.isAuthenticated()?r.a.createElement(c.b,null):r.a.createElement(c.a,{to:"/"})};var at=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(et,null),r.a.createElement(l.a,null,r.a.createElement(c.e,null,r.a.createElement(c.c,{exact:!0,path:"/",element:r.a.createElement(Y,null)}),r.a.createElement(c.c,{element:r.a.createElement(tt,null)},r.a.createElement(c.c,{path:"/step1",element:r.a.createElement(Oe,null)}),r.a.createElement(c.c,{path:"/Signature",element:r.a.createElement(Se,null)}),r.a.createElement(c.c,{path:"/step2",element:r.a.createElement(ke,null)}),r.a.createElement(c.c,{path:"/step3",element:r.a.createElement(Je,null)}),r.a.createElement(c.c,{path:"/result",element:r.a.createElement(Xe,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=a(269);Object(nt.createRoot)(document.getElementById("root")).render(r.a.createElement(f,null,r.a.createElement(at,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[314,1,2]]]);
//# sourceMappingURL=main.a229342c.chunk.js.map